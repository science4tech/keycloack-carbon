import{R as t,P as n,r as S,u as W,j as e}from"./index-DQq2HTd_.js";import{u as D,c as p}from"./useGetClassName-DxRUA2CP.js";import{u as G,c as $,_ as O,T as q,W as M,a as z,n as U,s as H,L as F,b as V,C as J,d as K,B as Q,A as X}from"./KcApp-D-2_ASdb.js";const Y=H(),E=t.forwardRef((j,c)=>{var T;let{className:f,helperText:b,id:k,labelText:g,onChange:a=U,onClick:h,indeterminate:l=!1,invalid:d,invalidText:C,hideLabel:w,readOnly:r,title:y="",warn:m,warnText:v,slug:u,...I}=j;const s=G(),i=!r&&!d&&m,x=!d&&!m,N=Y(),A=b?`checkbox-helper-text-${N}`:void 0,B=b?t.createElement("div",{id:A,className:`${s}--form__helper-text`},b):null,R=$(`${s}--form-item`,`${s}--checkbox-wrapper`,f,{[`${s}--checkbox-wrapper--readonly`]:r,[`${s}--checkbox-wrapper--invalid`]:!r&&d,[`${s}--checkbox-wrapper--warning`]:i,[`${s}--checkbox-wrapper--slug`]:u}),P=$(`${s}--checkbox-label-text`,{[`${s}--visually-hidden`]:w});let _;if(u&&t.isValidElement(u)){const o=((T=u.props)==null?void 0:T.kind)==="inline"?"md":"mini";_=t.cloneElement(u,{size:o})}return t.createElement("div",{className:R},t.createElement("input",O({},I,{type:"checkbox","data-invalid":d?!0:void 0,onChange:o=>{!r&&a&&a(o,{checked:o.target.checked,id:k})},className:`${s}--checkbox`,id:k,ref:o=>{o&&(o.indeterminate=l??!1),typeof c=="function"?c(o):c&&Object(c)===c&&(c.current=o)},"aria-readonly":r,onClick:o=>{r&&o.preventDefault(),h&&h(o)}})),t.createElement("label",{htmlFor:k,className:`${s}--checkbox-label`,title:y},t.createElement(q,{className:P},g,_)),t.createElement("div",{className:`${s}--checkbox__validation-msg`},!r&&d&&t.createElement(t.Fragment,null,t.createElement(M,{className:`${s}--checkbox__invalid-icon`}),t.createElement("div",{className:`${s}--form-requirement`},C)),i&&t.createElement(t.Fragment,null,t.createElement(z,{className:`${s}--checkbox__invalid-icon ${s}--checkbox__invalid-icon--warning`}),t.createElement("div",{className:`${s}--form-requirement`},v))),x&&B)});E.propTypes={checked:n.bool,className:n.string,defaultChecked:n.bool,disabled:n.bool,helperText:n.node,hideLabel:n.bool,id:n.string.isRequired,indeterminate:n.bool,invalid:n.bool,invalidText:n.node,labelText:n.node.isRequired,onChange:n.func,readOnly:n.bool,slug:n.node,title:n.string,warn:n.bool,warnText:n.node};E.displayName="Checkbox";const L=new URL(window.location.href).searchParams.get("my_custom_param");L!==null&&console.log("my_custom_param:",L);function ae(j){const{kcContext:c,i18n:f,doUseDefaultCss:b,Template:k,classes:g}=j,{getClassName:a}=D({doUseDefaultCss:b,classes:g}),{social:h,realm:l,url:d,usernameHidden:C,login:w,auth:r,registrationDisabled:y}=c,{msg:m,msgStr:v}=f,[u,I]=S.useState(!1),s=W(i=>{var N;i.preventDefault(),I(!0);const x=i.target;(N=x.querySelector("input[name='email']"))==null||N.setAttribute("name","username"),x.submit()});return e.jsx(k,{kcContext:c,i18n:f,doUseDefaultCss:b,classes:g,displayInfo:l.password&&l.registrationAllowed&&!y,displayWide:l.password&&h.providers!==void 0,headerNode:m("doLogIn"),infoNode:e.jsx("div",{id:"kc-registration"}),children:e.jsx("div",{id:"kc-form",className:p(l.password&&h.providers!==void 0&&a("kcContentWrapperClass")),children:e.jsx("div",{id:"kc-form-wrapper",className:p(l.password&&h.providers&&[a("kcFormSocialAccountContentClass"),a("kcFormSocialAccountClass")]),children:l.password&&e.jsxs("form",{id:"kc-form-login",onSubmit:s,action:d.loginAction,method:"post",children:[e.jsx("div",{className:"border-t border-solid border-[--cds-border-subtle-01] mx-4 mt-6"}),e.jsxs("div",{className:"p-4 ",children:[e.jsx("div",{className:a("kcFormGroupClass"),children:!C&&(()=>{const i=l.loginWithEmailAllowed?l.registrationEmailAsUsername?"email":"usernameOrEmail":"username",x=i==="usernameOrEmail"?"username":i;return e.jsx(e.Fragment,{children:e.jsx(F,{children:e.jsx(V,{id:x,type:"text",labelText:m(i),className:a("kcLabelClass"),placeholder:"yourname@email.com",name:x,defaultValue:w.username??"",tabIndex:1,autoFocus:!0,autoComplete:"off"})})})})()}),e.jsx("div",{className:p(a("kcFormGroupClass"),"mt-4"),children:e.jsx(F,{children:e.jsx(J.PasswordInput,{labelText:m("password"),tabIndex:2,id:"password",className:p(a("kcInputClass")),name:"password",type:"password",autoComplete:"off"})})}),e.jsx("div",{className:p(a("kcFormGroupClass"),a("kcFormSettingClass")),children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{id:"kc-form-options",className:"mt-8",children:l.rememberMe&&!C&&e.jsx(E,{id:"rememberMe",name:"rememberMe",...w.rememberMe==="on"?{checked:!0}:{},labelText:m("rememberMe")})}),e.jsx("div",{className:p(a("kcFormOptionsWrapperClass"),"mt-8"),children:l.resetPasswordAllowed&&e.jsx("span",{children:e.jsxs(K,{tabIndex:5,href:d.loginResetCredentialsUrl,children:[m("doForgotPassword")," "]})})})]})})]}),e.jsxs("div",{id:"kc-form-buttons",className:p(a("kcFormGroupClass"),"flex justify-end !mt-[23px]"),children:[e.jsx("input",{type:"hidden",id:"id-hidden-input",name:"credentialId",...(r==null?void 0:r.selectedCredential)!==void 0?{value:r.selectedCredential}:{}}),e.jsxs(Q,{tabIndex:4,size:"xl",className:p(a("kcButtonClass"),a("kcButtonPrimaryClass"),a("kcButtonBlockClass"),a("kcButtonLargeClass"),"w-1/2"),name:"login",id:"kc-login",type:"submit",value:v("doLogIn"),disabled:u,kind:"primary",renderIcon:i=>e.jsx(X,{size:24,...i}),iconDescription:"Log in",children:[" ",v("doLogIn")]})]})]})})})})}export{ae as default};
//# sourceMappingURL=Login-DkveiPAg.js.map
